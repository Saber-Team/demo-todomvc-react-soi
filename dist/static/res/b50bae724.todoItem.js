__d("TodoItem",["classNames"],function(t,e,n,r){"use strict";var i=e("classNames"),o=27,s=13;n.exports=React.createClass({displayName:"exports",handleSubmit:function(t){var e=this.state.editText.trim();e?(this.props.onSave(e),this.setState({editText:e})):this.props.onDestroy()},handleEdit:function(){this.props.onEdit(),this.setState({editText:this.props.todo.title})},handleKeyDown:function(t){t.which===o?(this.setState({editText:this.props.todo.title}),this.props.onCancel(t)):t.which===s&&this.handleSubmit(t)},handleChange:function(t){this.props.editing&&this.setState({editText:t.target.value})},getInitialState:function(){return{editText:this.props.todo.title}},shouldComponentUpdate:function(t,e){return t.todo!==this.props.todo||t.editing!==this.props.editing||e.editText!==this.state.editText},componentDidUpdate:function(t){if(!t.editing&&this.props.editing){var e=React.findDOMNode(this.refs.editField);e.focus(),e.setSelectionRange(e.value.length,e.value.length)}},render:function(){return React.createElement("li",{className:i({completed:this.props.todo.completed,editing:this.props.editing})},React.createElement("div",{className:"view"},React.createElement("input",{className:"toggle",type:"checkbox",checked:this.props.todo.completed,onChange:this.props.onToggle}),React.createElement("label",{onDoubleClick:this.handleEdit},this.props.todo.title),React.createElement("button",{className:"destroy",onClick:this.props.onDestroy})),React.createElement("input",{ref:"editField",className:"edit",value:this.state.editText,onBlur:this.handleSubmit,onChange:this.handleChange,onKeyDown:this.handleKeyDown}))}})});